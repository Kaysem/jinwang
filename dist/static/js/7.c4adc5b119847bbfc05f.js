webpackJsonp([7],{JOev:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,'#passenger[data-v-11e9d7dd]{width:100%;color:#fff;border-radius:10px;margin:auto;overflow:hidden;position:relative;margin-bottom:20px;min-width:1021px;overflow-x:auto}#browse>div[data-v-11e9d7dd]{padding:20px}.b_btm[data-v-11e9d7dd],.b_top[data-v-11e9d7dd]{background:hsla(0,0%,100%,.1);padding:20px}.b_btm[data-v-11e9d7dd]{margin-top:20px}.page_title[data-v-11e9d7dd]{font-size:20px;font-weight:400}.timeLis[data-v-11e9d7dd]{display:inline-block;vertical-align:middle}.timeLis>li[data-v-11e9d7dd]{float:left;height:40px;line-height:40px;vertical-align:middle;margin:0 10px;color:#c5c5c5;cursor:pointer}.timeLis>li.active[data-v-11e9d7dd]{color:#fff}.top_content[data-v-11e9d7dd]{margin-top:15px;margin-right:60px}.age>div[data-v-11e9d7dd]{display:inline-block;vertical-align:middle;margin:0 10px}.endage input[data-v-11e9d7dd],.startage input[data-v-11e9d7dd]{border:1px solid #91a2eb;background:transparent;border-radius:20px;color:#c5c5c5;outline:none;width:100%;height:100%;padding-left:24px;-webkit-box-sizing:border-box;box-sizing:border-box}.age_line[data-v-11e9d7dd]{display:inline-block;vertical-align:middle;width:30px;height:1px;background:#91a2eb}.endage[data-v-11e9d7dd],.startage[data-v-11e9d7dd]{display:inline-block;position:relative;width:78px;height:36px}.endage[data-v-11e9d7dd]:after,.startage[data-v-11e9d7dd]:after{content:"\\5C81";display:block;position:absolute;right:15px;top:47%;-webkit-transform:translateY(-50%);transform:translateY(-50%);color:#c5c5c5;font-size:13px}.operaty>div[data-v-11e9d7dd]{display:inline-block;color:#c5c5c5;font-size:14px;margin:0 10px;width:110px;height:40px;line-height:40px;border:none;border-radius:20px;text-align:center}.operaty>div[data-v-11e9d7dd]:hover{background:#363f68;color:#fff;cursor:pointer}.operaty>div[data-v-11e9d7dd]:active{opacity:.8}.search_icon[data-v-11e9d7dd]{display:inline-block;vertical-align:middle;width:20px;height:20px;background:url('+a("JbUR")+") no-repeat;background-size:100% 100%}.todo_search:hover .search_icon[data-v-11e9d7dd]{background:url("+a("1vEd")+") no-repeat;background-size:100% 100%}.inline_block[data-v-11e9d7dd]{display:inline-block}.passenger_top[data-v-11e9d7dd]{width:100%;margin:0 15px}.passenger_top_name[data-v-11e9d7dd]{margin:20px 0 0 40px}.passenger_top_content_charts[data-v-11e9d7dd]{overflow:hidden;width:98%;height:420px;background-color:#313856;-webkit-box-shadow:1px 1px 18px 0 rgba(64,128,255,.2);box-shadow:1px 1px 18px 0 rgba(64,128,255,.2);border-radius:16px;margin-top:21px;margin-bottom:42px}.passenger_bottom[data-v-11e9d7dd]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:distribute;justify-content:space-around;-ms-flex-wrap:wrap;flex-wrap:wrap}.passenger_bottom_content[data-v-11e9d7dd]{display:inline-block}.passenger_bottom_content_name[data-v-11e9d7dd]{margin:0 0 22px 14px}.passenger_bottom_content_charts[data-v-11e9d7dd]{overflow:hidden;width:458px;height:360px;background-color:#313856;-webkit-box-shadow:1px 1px 18px 0 rgba(64,128,255,.2);box-shadow:1px 1px 18px 0 rgba(64,128,255,.2);border-radius:16px;margin-top:21px;margin-bottom:42px}#passengerCountEcharts[data-v-11e9d7dd],#passengerTypeDayEcharts[data-v-11e9d7dd],#passengerTypeHourEcharts[data-v-11e9d7dd]{width:100%;height:100%;margin:0 auto}#ageEcharts[data-v-11e9d7dd],#mouthCountEcharts[data-v-11e9d7dd]{width:95%;height:340px;margin:0 auto;color:#fff;overflow:hidden}#sexEcharts[data-v-11e9d7dd],#traitEcharts[data-v-11e9d7dd],#typeEcharts[data-v-11e9d7dd]{width:97%;height:350px;margin:10px auto;overflow:hidden}",""])},XJ8t:function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"blackadd"}},[a("div",{staticClass:"b_top"},[a("h4",{staticClass:"page_title"},[e._v("客流报表")]),e._v(" "),a("div",{staticClass:"top_content inline_block time"},[a("span",[e._v("时间：")]),e._v(" "),a("el-radio-group",{on:{change:function(t){e.changeTimes()}},model:{value:e.top.valueTimeS,callback:function(t){e.$set(e.top,"valueTimeS",t)},expression:"top.valueTimeS"}},[a("el-radio",{attrs:{label:"threeMouth"}},[e._v("最近三个月")]),e._v(" "),a("el-radio",{attrs:{label:"sixMouth"}},[e._v("最近六个月")]),e._v(" "),a("el-radio",{staticClass:"custom",attrs:{label:"custom"}},[e._v("自定义\n                    "),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.top.pickerOptions0},model:{value:e.top.valueTime,callback:function(t){e.$set(e.top,"valueTime",t)},expression:"top.valueTime"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"top_content inline_block sex"},[a("span",[e._v("性别：")]),e._v(" "),a("el-radio-group",{model:{value:e.top.valueSex,callback:function(t){e.$set(e.top,"valueSex",t)},expression:"top.valueSex"}},[a("el-radio",{attrs:{label:"ALL"}},[e._v("全部")]),e._v(" "),a("el-radio",{attrs:{label:"男"}},[e._v("男性")]),e._v(" "),a("el-radio",{attrs:{label:"女"}},[e._v("女性")])],1)],1),e._v(" "),a("div",{staticClass:"top_content inline_block sex"},[a("span",[e._v("身份：")]),e._v(" "),a("el-radio-group",{model:{value:e.top.valueMemtype,callback:function(t){e.$set(e.top,"valueMemtype",t)},expression:"top.valueMemtype"}},[a("el-radio",{attrs:{label:"ALL"}},[e._v("全部")]),e._v(" "),a("el-radio",{attrs:{label:"VIP顾客"}},[e._v("VIP")]),e._v(" "),a("el-radio",{attrs:{label:"消费顾客"}},[e._v("消费顾客")]),e._v(" "),a("el-radio",{attrs:{label:"非消费顾客"}},[e._v("未消费顾客")])],1)],1),e._v(" "),a("div",{staticClass:"top_content inline_block age"},[a("span",[e._v("年龄：")]),e._v(" "),a("div",[a("div",{staticClass:"startage"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.top.age.startAge,expression:"top.age.startAge"}],attrs:{type:"text",id:"startage",placeholder:""},domProps:{value:e.top.age.startAge},on:{input:function(t){t.target.composing||e.$set(e.top.age,"startAge",t.target.value)}}})]),e._v(" "),a("span",{staticClass:"age_line"}),e._v(" "),a("div",{staticClass:"endage"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.top.age.endAge,expression:"top.age.endAge"}],attrs:{type:"text",id:"endage",placeholder:""},domProps:{value:e.top.age.endAge},on:{input:function(t){t.target.composing||e.$set(e.top.age,"endAge",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"top_content inline_block operaty"},[a("span",[e._v("操作：")]),e._v(" "),a("div",{staticClass:"todo_search",on:{click:function(t){t.stopPropagation(),e.getPassenger()}}},[a("span",{staticClass:"search_icon"}),e._v(" 查询 ")])])]),e._v(" "),a("div",{staticClass:"b_btm"},[a("div",{staticClass:"passenger_top"},[a("div",{staticClass:"passenger_top_name"},[e._v("客流分析")]),e._v(" "),a("div",{staticClass:"passenger_top_content"},[a("div",{staticClass:"passenger_top_content_charts"},[a("div",{ref:"passengerCountEcharts",attrs:{id:"passengerCountEcharts"}})]),e._v(" "),a("div",{staticClass:"passenger_top_content_charts"},[a("div",{ref:"passengerTypeDayEcharts",attrs:{id:"passengerTypeDayEcharts"}})]),e._v(" "),a("div",{staticClass:"passenger_top_content_charts"},[a("div",{ref:"passengerTypeHourEcharts",attrs:{id:"passengerTypeHourEcharts"}})])])]),e._v(" "),a("div",{staticClass:"passenger_bottom"},[a("div",{staticClass:"passenger_bottom_content"},[a("div",{staticClass:"passenger_bottom_content_name"},[e._v("年龄")]),e._v(" "),a("div",{staticClass:"passenger_bottom_content_charts"},[a("div",{ref:"ageEcharts",attrs:{id:"ageEcharts"}})])]),e._v(" "),a("div",{staticClass:"passenger_bottom_content"},[a("div",{staticClass:"passenger_bottom_content_name"},[e._v("月")]),e._v(" "),a("div",{staticClass:"passenger_bottom_content_charts"},[a("div",{ref:"mouthCountEcharts",attrs:{id:"mouthCountEcharts"}})])]),e._v(" "),a("div",{staticClass:"passenger_bottom_content"},[a("div",{staticClass:"passenger_bottom_content_name"},[e._v("类型")]),e._v(" "),a("div",{staticClass:"passenger_bottom_content_charts"},[a("div",{ref:"typeEcharts",attrs:{id:"typeEcharts"}})])]),e._v(" "),a("div",{staticClass:"passenger_bottom_content"},[a("div",{staticClass:"passenger_bottom_content_name"},[e._v("性别")]),e._v(" "),a("div",{staticClass:"passenger_bottom_content_charts"},[a("div",{ref:"sexEcharts",attrs:{id:"sexEcharts"}})])]),e._v(" "),a("div",{staticClass:"passenger_bottom_content"},[a("div",{staticClass:"passenger_bottom_content_name"},[e._v("性格")]),e._v(" "),a("div",{staticClass:"passenger_bottom_content_charts"},[a("div",{ref:"traitEcharts",attrs:{id:"traitEcharts"}})])])])])])},s=[],r={render:o,staticRenderFns:s};t.a=r},rsfB:function(e,t,a){"use strict";var o=a("mvHQ"),s=a.n(o);t.a={name:"Passenger",data:function(){return{top:{valueTimeS:"threeMouth",valueTime:[],valueSex:"ALL",pickerOptions0:{disabledDate:function(e){return e.getTime()>Date.now()-864e4}},valueMemtype:"ALL",age:{startAge:"1",endAge:"99"}},passengerCountEcharts:{tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{itemWidth:60,itemGap:30,top:15,textStyle:{fontSize:12,color:"#fff"},data:[]},toolbox:{show:!0,itemGap:20,orient:"vertical",x:"right",y:"center",color:["#1e90ff","#22bb22","#4b0082","#d2691e"],backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:15,margin:5,showTitle:!0,feature:{dataView:{show:!0,title:"数据视图",readOnly:!0,optionToContent:function(e){for(var t=e.xAxis[0].data,a=e.series,o='<table style="width:100%;text-align:center"><tbody><tr><td>时间</td><td>'+a[0].name+"</td><td>"+a[1].name+"</td></tr>",s=0,r=t.length;s<r;s++)o+="<tr><td>"+t[s]+"</td><td>"+a[0].data[s]+"</td><td>"+a[1].data[s]+"</td></tr>";return o+="</tbody></table>"}},magicType:{show:!0,title:{line:"折线图",bar:"柱形图"},type:["line","bar"]},restore:{show:!0,title:"还原",color:"black"},saveAsImage:{show:!0,title:"保存为图片",type:"png",lang:["点击本地保存"],backgroundColor:"#313856",name:"总客流量与支付客流量对比图"}}},dataZoom:[{show:!0,realtime:!0,start:0,end:100,bottom:15,backgroundColor:"#fff",dataBackground:{lineStyle:{color:"#EE0000"},areaStyle:{color:"#030303"}}},{type:"inside"}],grid:{left:"3%",right:"4%",bottom:"15%",containLabel:!0},xAxis:{type:"category",interval:"auto",boundaryGap:!1,data:[],axisLine:{lineStyle:{type:"solid",color:"#fff",width:"2"}},axisLabel:{interval:"auto",textStyle:{color:"#fff"}}},yAxis:[{name:"总客流量 ( 单位 : 人/次 )",type:"value",axisLine:{lineStyle:{type:"solid",color:"#fff",width:"2"}},axisLabel:{textStyle:{color:"#fff"}}},{name:"支付率 ( 单位 : % )",type:"value",splitLine:{show:!1},axisLine:{lineStyle:{type:"solid",color:"#fff",width:"2"}},axisLabel:{formatter:"{value}%",textStyle:{color:"#fff"}}}],series:[{name:"总客流量",type:"line",stack:"总量1",smooth:!0,areaStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(112,73,240,1)"},{offset:1,color:"rgba(112,73,240,0)"}])}},yAxisIndex:0,itemStyle:{normal:{color:"#7049f0",lineStyle:{color:"#7049f0"}}},data:[]},{name:"支付客流量",type:"line",stack:"总量2",smooth:!0,yAxisIndex:0,itemStyle:{normal:{color:"#1a9bfc",lineStyle:{color:"#1a9bfc"}}},areaStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(26,155,252,1)"},{offset:1,color:"rgba(26,155,252,0)"}])}},data:[]},{name:"支付率",type:"line",stack:"总量3",yAxisIndex:1,smooth:!0,itemStyle:{normal:{color:"#fa704d",lineStyle:{color:"#fa704d"}}},data:[]}]},passengerTypeDayEcharts:{tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{itemWidth:60,itemGap:30,top:15,textStyle:{fontSize:12,color:"#fff"},data:["VIP顾客","消费顾客","非消费顾客"]},toolbox:{show:!0,itemGap:20,orient:"vertical",x:"right",y:"center",color:["#1e90ff","#22bb22","#4b0082","#d2691e"],backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:15,margin:5,showTitle:!0,feature:{dataView:{show:!0,title:"数据视图",readOnly:!0,optionToContent:function(e){for(var t=e.xAxis[0].data,a=e.series,o='<table style="width:100%;text-align:center"><tbody><tr><td>时间</td><td>'+a[0].name+"</td><td>"+a[1].name+"</td></tr>",s=0,r=t.length;s<r;s++)o+="<tr><td>"+t[s]+"</td><td>"+a[0].data[s]+"</td><td>"+a[1].data[s]+"</td></tr>";return o+="</tbody></table>"}},magicType:{show:!0,title:{line:"折线图",bar:"柱形图"},type:["line","bar"]},restore:{show:!0,title:"还原",color:"black"},saveAsImage:{show:!0,title:"保存为图片",type:"png",lang:["点击本地保存"],backgroundColor:"#313856",name:"按日期统计顾客类型客流对比图"}}},dataZoom:[{show:!0,realtime:!0,start:0,end:100,bottom:15,backgroundColor:"#fff",dataBackground:{lineStyle:{color:"#EE0000"},areaStyle:{color:"#030303"}}},{type:"inside"}],grid:{left:"3%",right:"4%",bottom:"15%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:[],axisLine:{lineStyle:{type:"solid",color:"#fff",width:"2"}},axisLabel:{interval:"auto",textStyle:{color:"#fff"}}},yAxis:[{name:"客流 (单位: 人/次/day)",type:"value",axisLine:{lineStyle:{type:"solid",color:"#fff",width:"2"}},axisLabel:{textStyle:{color:"#fff"}}}],series:[{name:"VIP顾客",type:"line",stack:"总量1",yAxisIndex:0,smooth:!0,itemStyle:{normal:{color:"#f1bd2a",lineStyle:{color:"#f1bd2a"}}},data:[]},{name:"消费顾客",type:"line",stack:"总量2",yAxisIndex:0,smooth:!0,itemStyle:{normal:{color:"#CD2626",lineStyle:{color:"#CD2626"}}},data:[]},{name:"非消费顾客",type:"line",stack:"总量3",yAxisIndex:0,smooth:!0,itemStyle:{normal:{color:"#2ec7c9",lineStyle:{color:"#2ec7c9"}}},data:[]}]},passengerTypeHourEcharts:{tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{itemWidth:60,itemGap:30,top:15,textStyle:{fontSize:12,color:"#fff"},data:[]},toolbox:{show:!0,itemGap:20,orient:"vertical",x:"right",y:"center",color:["#1e90ff","#22bb22","#4b0082","#d2691e"],backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:15,margin:5,showTitle:!0,feature:{dataView:{show:!0,title:"数据视图",readOnly:!0,optionToContent:function(e){for(var t=e.xAxis[0].data,a=e.series,o='<table style="width:100%;text-align:center"><tbody><tr><td>时间</td><td>'+a[0].name+"</td><td>"+a[1].name+"</td></tr>",s=0,r=t.length;s<r;s++)o+="<tr><td>"+t[s]+"</td><td>"+a[0].data[s]+"</td><td>"+a[1].data[s]+"</td></tr>";return o+="</tbody></table>"}},magicType:{show:!0,title:{line:"折线图",bar:"柱形图"},type:["line","bar"]},restore:{show:!0,title:"还原",color:"black"},saveAsImage:{show:!0,title:"保存为图片",type:"png",lang:["点击本地保存"],backgroundColor:"#313856",name:"按时间统计顾客类型客流对比图"}}},dataZoom:[{show:!0,realtime:!0,start:0,end:100,bottom:15,backgroundColor:"#fff",dataBackground:{lineStyle:{color:"#EE0000"},areaStyle:{color:"#030303"}}},{type:"inside"}],grid:{left:"3%",right:"4%",bottom:"15%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:[],axisLine:{lineStyle:{type:"solid",color:"#fff",width:"2"}},axisLabel:{textStyle:{color:"#fff"}}},yAxis:[{name:"客流 (单位: 人/次/hour)",type:"value",axisLine:{lineStyle:{type:"solid",color:"#fff",width:"2"}},axisLabel:{textStyle:{color:"#fff"}}}],series:[{name:"VIP顾客",type:"line",stack:"总量1",yAxisIndex:0,smooth:!0,itemStyle:{normal:{color:"#f1bd2a",lineStyle:{color:"#f1bd2a"}}},data:[]},{name:"消费顾客",type:"line",stack:"总量2",yAxisIndex:0,smooth:!0,itemStyle:{normal:{color:"#CD2626",lineStyle:{color:"#CD2626"}}},data:[]},{name:"非消费顾客",type:"line",stack:"总量3",yAxisIndex:0,smooth:!0,itemStyle:{normal:{color:"#2ec7c9",lineStyle:{color:"#2ec7c9"}}},data:[]}]},ageEcharts:{color:["#547ee6"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"1%",right:"3%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:[],axisTick:{alignWithLabel:!0},axisLine:{lineStyle:{type:"solid",color:"#fff",width:"2"}}}],yAxis:[{type:"value",axisLine:{lineStyle:{type:"solid",color:"#fff",width:"2"}},axisLabel:{textStyle:{color:"#fff"}}}],series:[{name:"直接访问",type:"bar",barWidth:"30%",itemStyle:{normal:{barBorderRadius:40}},data:[]}]},mouthCountEcharts:{color:["#ceaa1b"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"1%",right:"3%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:[],axisTick:{alignWithLabel:!0},axisLabel:{formatter:"{value}月"},axisLine:{lineStyle:{type:"solid",color:"#fff",width:"2"}}}],yAxis:[{type:"value",axisLine:{lineStyle:{type:"solid",color:"#fff",width:"2"}},axisLabel:{textStyle:{color:"#fff"}}}],series:[{name:"直接访问",type:"bar",barWidth:"30%",itemStyle:{normal:{barBorderRadius:40}},data:[]}]},typeEcharts:{color:["#f1bd2a","#d780f0","#4b77e5"],tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)",position:function(e){return[e[0]+10,e[1]-10]},extraCssText:"width:160px;height:40px;background:rgba(0,0,0,0.2);"},legend:{orient:"horizontal",x:"right",data:[],textStyle:{color:"#fff"}},series:[{name:"访问来源",type:"pie",selectedMode:"single",radius:[0,"40%"],label:{normal:{position:"inner"},emphasis:{show:!0,formatter:" {b}：{c} \n\n",textStyle:{fontSize:"20",fontWeight:"bold"}}},data:[]},{name:"访问来源",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{normal:{formatter:" {b}：{c} \n\n",show:!0,position:"outside",borderWidth:20,borderRadius:4,margin:10,padding:[0,-50],rich:{a:{fontSize:12,lineHeight:20},b:{fontSize:12,lineHeight:20}}},emphasis:{show:!0,position:"center",formatter:"{c} \n\n",textStyle:{fontSize:"20",fontWeight:"bold"}}},labelLine:{normal:{length:20,length2:50},emphasis:{show:!0,textStyle:{fontSize:"20",fontWeight:"bold"}}},data:[]}]},sexEcharts:{color:["#d780f0","#4b77e5"],tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)",position:function(e){return[e[0]+10,e[1]-10]},extraCssText:"width:160px;height:40px;background:rgba(0,0,0,0.2);"},legend:{orient:"horizontal",x:"right",data:[],textStyle:{color:"#fff"}},series:[{name:"访问来源",type:"pie",selectedMode:"single",radius:[0,"40%"],label:{normal:{position:"inner"},emphasis:{show:!0,formatter:" {b}：{c} \n\n",textStyle:{fontSize:"20",fontWeight:"bold"}}},data:[]},{name:"访问来源",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{normal:{formatter:" {b}：{c} \n\n",show:!0,position:"outside",borderWidth:20,borderRadius:4,margin:10,padding:[0,-50],rich:{a:{fontSize:12,lineHeight:20},b:{fontSize:12,lineHeight:20}}},emphasis:{show:!0,position:"center",formatter:"{c} \n\n",textStyle:{fontSize:"20",fontWeight:"bold"}}},labelLine:{normal:{length:25,length2:60},emphasis:{show:!0,textStyle:{fontSize:"20",fontWeight:"bold"}}},data:[]}]},traitEcharts:{color:["#d780f0","#4b77e5"],tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)",position:function(e){return[e[0]+10,e[1]-10]},extraCssText:"width:160px;height:40px;background:rgba(0,0,0,0.2);"},legend:{orient:"horizontal",x:"right",data:[],textStyle:{color:"#fff"}},series:[{name:"访问来源",type:"pie",selectedMode:"single",radius:[0,"40%"],label:{normal:{position:"inner"},emphasis:{show:!0,formatter:" {b}：{c} \n\n",textStyle:{fontSize:"20",fontWeight:"bold"}}},data:[]},{name:"访问来源",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{normal:{formatter:" {b}：{c} \n\n",show:!0,position:"outside",borderWidth:20,borderRadius:4,margin:10,padding:[0,-50],rich:{a:{fontSize:12,lineHeight:20},b:{fontSize:12,lineHeight:20}}},emphasis:{show:!0,position:"center",formatter:"{c} \n\n",textStyle:{fontSize:"20",fontWeight:"bold"}}},labelLine:{normal:{length:30,length2:50},emphasis:{show:!0,textStyle:{fontSize:"20",fontWeight:"bold"}}},data:[]}]}}},beforeMount:function(){console.log("挂载前执行")},mounted:function(){this.getPassenger()},watch:{"top.valueTime":{handler:function(e,t){var a=this;if(null===e&&(e=[]),null!=e&&0!=e.length){a.top.valueTimeS="custom";var o=a.getDateTime((new Date).getTime());console.log(a.top.valueTime[1].substring(0,10),o,a.top.valueTime[1].substring(0,10)==o.substring(0,10)),a.top.valueTime[1].substring(0,10)==o.substring(0,10)?a.top.valueTime[1]=o:a.top.valueTime[1]=a.top.valueTime[1].substring(0,10)+" 23:59:59"}else"custom"==a.top.valueTimeS&&a.$message.success("请选择时间!")},deep:!0}},methods:{changeTimes:function(){var e=this;"custom"!=e.top.valueTimeS&&(e.top.valueTime=[])},getMyDate:function(e){var t=this,a=new Date(e),o=a.getFullYear(),s=a.getMonth()+1,r=a.getDate();a.getHours(),a.getMinutes(),a.getSeconds();return o+"-"+t.getzf(s)+"-"+t.getzf(r)},getDateTime:function(e){var t=this,a=new Date(e),o=a.getFullYear(),s=a.getMonth()+1,r=a.getDate(),i=a.getHours(),n=a.getMinutes(),l=a.getSeconds();return o+"-"+t.getzf(s)+"-"+t.getzf(r)+" "+t.getzf(i)+":"+t.getzf(n)+":"+t.getzf(l)},getzf:function(e){return parseInt(e)<10&&(e="0"+e),e},drawEcharts:function(){var e=this;e.myChart1=e.$echarts.init(document.getElementById("passengerCountEcharts")),e.myChart1.setOption(e.passengerCountEcharts),e.myChart2=e.$echarts.init(document.getElementById("passengerTypeDayEcharts")),e.myChart2.setOption(e.passengerTypeDayEcharts),e.myChart3=e.$echarts.init(document.getElementById("passengerTypeHourEcharts")),e.myChart3.setOption(e.passengerTypeHourEcharts),e.myChart4=e.$echarts.init(document.getElementById("ageEcharts")),e.myChart4.setOption(e.ageEcharts),e.myChart5=e.$echarts.init(document.getElementById("mouthCountEcharts")),e.myChart5.setOption(e.mouthCountEcharts),e.myChart6=e.$echarts.init(document.getElementById("typeEcharts")),e.myChart6.setOption(e.typeEcharts),e.myChart7=e.$echarts.init(document.getElementById("sexEcharts")),e.myChart7.setOption(e.sexEcharts),e.myChart8=e.$echarts.init(document.getElementById("traitEcharts")),e.myChart8.setOption(e.traitEcharts),window.addEventListener("resize",function(){e.myChart1.resize(),e.myChart2.resize(),e.myChart3.resize(),e.myChart4.resize(),e.myChart6.resize(),e.myChart7.resize(),e.myChart8.resize()})},getPassenger:function(){var e=this;"custom"==e.top.valueTimeS&&0==e.top.valueTime.length&&e.$message.warning("请选择时间!");var t=(new Date).getTime(),a="",o="";"threeMouth"==e.top.valueTimeS?(a=Date.parse(new Date(1e3*(t/1e3-7776e3)))>Date.parse(new Date("2018-10-01 00:00:00"))?e.getMyDate(1e3*(t/1e3-7776e3)):"2018-10-01",o=e.getMyDate(t)):"sixMouth"==e.top.valueTimeS?(a=Date.parse(new Date(1e3*(t/1e3-15552e3)))>Date.parse(new Date("2018-10-01 00:00:00"))?e.getMyDate(1e3*(t/1e3-15552e3)):"2018-10-01",o=e.getMyDate(t)):(a=Date.parse(new Date(e.top.valueTime[0]))>Date.parse(new Date("2018-10-01 00:00:00"))?e.top.valueTime[0].substr(0,10):"2018-10-01",o=e.top.valueTime[1].substr(0,10)),console.log(a,o);var r="";"ALL"!=e.top.valueSex&&(r=e.top.valueSex);var i="";"ALL"!=e.top.valueMemtype&&(i=e.top.valueMemtype),console.log(e.$route.params.storeCode),sessionStorage.setItem("sid",s()(e.$route.params.storeCode));var n=JSON.parse(sessionStorage.getItem("sid")),l={sid:n,sex:r,sa:e.top.age.startAge,ea:e.top.age.endAge,memtype:i,st:a,et:o},d=e.$config.formData(l);e.$axios.post(e.$url.flow_flowAllPay,d).then(function(t){if(console.log("总客流量返回成功"),200==t.status){var a=t.data;console.log(a);var o=[];o=a.data,e.passengerCountEcharts.xAxis.data=[],e.passengerCountEcharts.series[0].data=[],e.passengerCountEcharts.series[1].data=[],e.passengerCountEcharts.series[2].data=[];for(var s=0;s<o.length;s++){var r=e.getMyDate(parseInt(o[s].ds)),i=o[s].flowCnt,n=o[s].payCnt,l=100*o[s].payRate;e.passengerCountEcharts.xAxis.data.push(r),e.passengerCountEcharts.series[0].data.push(i),"ALL"==e.top.valueSex&&"ALL"==e.top.valueMemtype&&"1"==e.top.age.startAge&&"99"==e.top.age.endAge?(e.passengerCountEcharts.series[1].data.push(n),e.passengerCountEcharts.series[2].data.push(l),e.passengerCountEcharts.legend.data=["总客流量","支付客流量","支付率"]):e.passengerCountEcharts.legend.data=["总客流量"]}e.$nextTick(function(){e.drawEcharts()})}}).catch(function(t){console.log("总客流==",t),e.$message("请求出错，请稍后重试！")});var c="";c="ALL"==e.top.valueSex?"男','女":e.top.valueSex;var p="";"ALL"!=e.top.valueMemtype&&(p=e.top.valueMemtype);var g={sid:n,sex:c,sa:e.top.age.startAge,ea:e.top.age.endAge,memtype:p,st:a,et:o},h=e.$config.formData(g);e.$axios.post(e.$url.exec_flowTrendDate,h).then(function(t){if(console.log("日期客流返回成功"),200==t.status){var a=t.data;console.log(a);var o=[];o=a.data,console.log(o),e.passengerTypeDayEcharts.xAxis.data=[],e.passengerTypeDayEcharts.series[0].data=[],e.passengerTypeDayEcharts.series[1].data=[],e.passengerTypeDayEcharts.series[2].data=[];for(var s=0;s<o.length;s++){var r=e.getMyDate(parseInt(o[s].date)),i=o[s].vipcnt,n=o[s].paycnt,l=o[s].nopaycnt;e.passengerTypeDayEcharts.xAxis.data.push(r),"ALL"==e.top.valueMemtype?(e.passengerTypeDayEcharts.series[0].data.push(i),e.passengerTypeDayEcharts.series[1].data.push(n),e.passengerTypeDayEcharts.series[2].data.push(l),e.passengerTypeDayEcharts.legend.data=["VIP顾客","消费顾客","非消费顾客"]):"VIP顾客"==e.top.valueMemtype?(e.passengerTypeDayEcharts.series[0].data.push(i),e.passengerTypeDayEcharts.legend.data=["VIP顾客"]):"消费顾客"==e.top.valueMemtype?(e.passengerTypeDayEcharts.series[1].data.push(n),e.passengerTypeDayEcharts.legend.data=["消费顾客"]):"非消费顾客"==e.top.valueMemtype&&(e.passengerTypeDayEcharts.series[2].data.push(l),e.passengerTypeDayEcharts.legend.data=["非消费顾客"])}e.$nextTick(function(){e.drawEcharts()})}}).catch(function(t){e.$message("请求出错，请稍后重试！")});var u="";u="ALL"==e.top.valueSex?"男','女":e.top.valueSex;var m="";"ALL"!=e.top.valueMemtype&&(m=e.top.valueMemtype);var y={sid:n,sex:u,sa:e.top.age.startAge,ea:e.top.age.endAge,memtype:m,st:a,et:o},v=e.$config.formData(y);e.$axios.post(e.$url.exec_flowTrendTime,v).then(function(t){if(console.log("时间客流返回成功"),200==t.status){var a=t.data;console.log(a);var o=[];o=a.data,console.log(o),e.passengerTypeHourEcharts.xAxis.data=[],e.passengerTypeHourEcharts.series[0].data=[],e.passengerTypeHourEcharts.series[1].data=[],e.passengerTypeHourEcharts.series[2].data=[];for(var s=0;s<o.length;s++){var r=o[s].hour+"时",i=o[s].vipcnt,n=o[s].paycnt,l=o[s].nopaycnt;console.log("===="+r,i,n,l),e.passengerTypeHourEcharts.xAxis.data.push(r),"ALL"==e.top.valueMemtype?(e.passengerTypeHourEcharts.series[0].data.push(i),e.passengerTypeHourEcharts.series[1].data.push(n),e.passengerTypeHourEcharts.series[2].data.push(l),e.passengerTypeHourEcharts.legend.data=["VIP顾客","消费顾客","非消费顾客"]):"VIP顾客"==e.top.valueMemtype?(e.passengerTypeHourEcharts.series[0].data.push(i),e.passengerTypeHourEcharts.legend.data=["VIP顾客"]):"消费顾客"==e.top.valueMemtype?(e.passengerTypeHourEcharts.series[1].data.push(n),e.passengerTypeHourEcharts.legend.data=["消费顾客"]):"非消费顾客"==e.top.valueMemtype&&(e.passengerTypeHourEcharts.series[2].data.push(l),e.passengerTypeHourEcharts.legend.data=["非消费顾客"])}e.$nextTick(function(){e.drawEcharts()})}}).catch(function(t){e.$message("请求出错，请稍后重试！")});var f="";"ALL"!=e.top.valueSex&&(f=e.top.valueSex);var x="";"ALL"!=e.top.valueMemtype&&(x=e.top.valueMemtype);var b={sid:n,sex:f,sa:e.top.age.startAge,ea:e.top.age.endAge,memtype:x,st:a,et:o},_=e.$config.formData(b);e.$axios.post(e.$url.flow_byAgeCnt,_).then(function(t){if(200==t.status){var a=t.data;console.log(t);var o=[];o=a.data,console.log(o),e.ageEcharts.xAxis[0].data=[],e.ageEcharts.series[0].data=[];for(var s=0;s<o.length;s++){var r=o[s].age_groups,i=o[s].cnt;e.ageEcharts.xAxis[0].data.push(r),e.ageEcharts.series[0].data.push(i)}e.$nextTick(function(){e.drawEcharts()})}}).catch(function(t){e.$message("请求出错，请稍后重试！")}),e.$axios.post(e.$url.flow_byMonthCnt,_).then(function(t){if(console.log("月份返回成功"),200==t.status){var a=t.data;console.log(t);var o=[];o=a.data,console.log(o),e.mouthCountEcharts.xAxis[0].data=[],e.mouthCountEcharts.series[0].data=[];for(var s=0;s<o.length;s++){var r=o[s].month,i=o[s].cnt;e.mouthCountEcharts.xAxis[0].data.push(r),e.mouthCountEcharts.series[0].data.push(i)}e.$nextTick(function(){e.drawEcharts()})}}).catch(function(t){e.$message("请求出错，请稍后重试！")}),e.$axios.post(e.$url.flow_byMemtypeCnt,_).then(function(t){if(console.log("会员类型返回成功"),200==t.status){var a=t.data;console.log(t);var o=[];o=a.data,console.log(o),e.typeEcharts.legend.data=[],e.typeEcharts.series[0].data=[],e.typeEcharts.series[1].data=[];for(var s=0;s<o.length;s++){var r=o[s].memtype,i={value:o[s].cnt,name:o[s].memtype};e.typeEcharts.legend.data.push(r),e.typeEcharts.series[0].data.push(i),e.typeEcharts.series[1].data.push(i)}e.$nextTick(function(){e.drawEcharts()}),console.log(e.typeEcharts.series[0].data)}}).catch(function(t){e.$message("请求出错，请稍后重试！")});var E="";"ALL"!=e.top.valueSex&&(E=e.top.valueSex);var w="";"ALL"!=e.top.valueMemtype&&(w=e.top.valueMemtype);var C=JSON.parse(sessionStorage.getItem("userinfo")).store_root_id;console.log(C);var S={sid:n,vid:C,sex:E,sa:e.top.age.startAge,ea:e.top.age.endAge,memtype:w,st:a,et:o},T=e.$config.formData(S);e.$axios.post(e.$url.flow_byTraitCnt,T).then(function(t){if(console.log("性格返回成功"),200==t.status){var a=t.data;console.log(t);var o=[];o=a.data,console.log(o),e.traitEcharts.legend.data=[],e.traitEcharts.series[0].data=[],e.traitEcharts.series[1].data=[];for(var s=0;s<o.length;s++)if(console.log(!(null===o[s].tag_feelCosume)),null!==o[s].tag_feelCosume){var r=o[s].tag_feelCosume,i={value:o[s].cnt,name:o[s].tag_feelCosume};e.traitEcharts.legend.data.push(r),e.traitEcharts.series[0].data.push(i),e.traitEcharts.series[1].data.push(i)}e.$nextTick(function(){e.drawEcharts()})}}).catch(function(t){console.log(t),e.$message("请求出错，请稍后重试！")}),e.$axios.post(e.$url.flow_bySexCnt,_).then(function(t){if(console.log("性别返回成功"),200==t.status){var a=t.data;console.log(t);var o=[];o=a.data,console.log(o),e.sexEcharts.legend.data=[],e.sexEcharts.series[0].data=[],e.sexEcharts.series[1].data=[];for(var s=0;s<o.length;s++){var r=o[s].sex,i={value:o[s].cnt,name:o[s].sex};e.sexEcharts.legend.data.push(r),e.sexEcharts.series[0].data.push(i),e.sexEcharts.series[1].data.push(i)}e.$nextTick(function(){e.drawEcharts()})}}).catch(function(t){e.$message("请求出错，请稍后重试！")})}}}},zhBL:function(e,t,a){"use strict";function o(e){a("zsYS")}Object.defineProperty(t,"__esModule",{value:!0});var s=a("rsfB"),r=a("XJ8t"),i=a("VU/8"),n=o,l=i(s.a,r.a,!1,n,"data-v-11e9d7dd",null);t.default=l.exports},zsYS:function(e,t,a){var o=a("JOev");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a("rjj0")("3b5b432b",o,!0)}});