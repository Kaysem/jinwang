webpackJsonp([10],{AMlr:function(t,a,e){"use strict";var o=e("XLwt"),i=e.n(o);a.a={name:"Analyse",data:function(){return{userInfo:{},shoplistInfo:null,storeOptions:[{value:"",label:"全部门店"}],searChstore:"",top:{valueTimeS:"threeMouth",valueTime:[],valueSex:"ALL",valueCount:"ALL",pickerOptions0:{disabledDate:function(t){return t.getTime()>Date.now()-864e4}}},black_person:{},ageEcharts:{color:["#547ee6"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"1%",right:"3%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:[],axisTick:{alignWithLabel:!0},axisLine:{lineStyle:{type:"solid",color:"#fff",width:"2"}}}],yAxis:[{type:"value",axisLine:{lineStyle:{type:"solid",color:"#fff",width:"2"}},axisLabel:{textStyle:{color:"#fff"}}}],series:[{name:"直接访问",type:"bar",barWidth:"30%",itemStyle:{normal:{barBorderRadius:40}},data:[]}]},sexEcharts:{color:["#d780f0","#4b77e5"],tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)",position:function(t){return[t[0]+10,t[1]-10]},extraCssText:"width:160px;height:40px;background:rgba(0,0,0,0.2);"},legend:{orient:"horizontal",x:"right",data:[],textStyle:{color:"#fff"}},series:[{name:"访问来源",type:"pie",selectedMode:"single",radius:[0,"40%"],label:{normal:{position:"inner"},emphasis:{show:!0,formatter:" {b}：{c} \n\n",textStyle:{fontSize:"20",fontWeight:"bold"}}},data:[]},{name:"访问来源",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{normal:{formatter:" {b}：{c} \n\n",show:!0,position:"outside",borderWidth:20,borderRadius:4,margin:10,padding:[0,-50],rich:{a:{fontSize:12,lineHeight:20},b:{fontSize:12,lineHeight:20}}},emphasis:{show:!0,position:"center",formatter:"{c} \n\n",textStyle:{fontSize:"20",fontWeight:"bold"}}},labelLine:{normal:{length:20,length2:50},emphasis:{show:!0,textStyle:{fontSize:"20",fontWeight:"bold"}}},data:[]}]},hourCountEcharts:{tooltip:{trigger:"axis",formatter:"{a} <br/>{b}->{c}人 ",position:function(t){return[t[0]+10,t[1]-10]},extraCssText:"width:160px;height:40px;background:rgba(0,0,0,0.2);"},grid:{left:"3%",right:"3%",bottom:"10%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:[],axisLine:{lineStyle:{type:"solid",color:"#fff",width:"2"}}},yAxis:{type:"value",axisLine:{lineStyle:{type:"solid",color:"#fff",width:"2"}},axisLabel:{textStyle:{color:"#fff"}}},series:{name:"黑名单人数",type:"line",data:[],markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},markLine:{data:[{type:"average",name:"平均值"},[{symbol:"none",x:"90%",yAxis:"max"},{symbol:"circle",label:{normal:{position:"start",formatter:"最大值"}},type:"max",name:"最高点"}]]}}},weekCountEcharts:{color:["#d780f0"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"1%",right:"3%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:[],axisTick:{alignWithLabel:!0},axisLine:{lineStyle:{type:"solid",color:"#fff",width:"2"}}}],yAxis:[{type:"value",axisLine:{lineStyle:{type:"solid",color:"#fff",width:"2"}},axisLabel:{textStyle:{color:"#fff"}}}],series:[{name:"直接访问",type:"bar",barWidth:"30%",itemStyle:{normal:{barBorderRadius:40}},data:[]}]},mouthCountEcharts:{color:["#ceaa1b"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"1%",right:"3%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:[],axisTick:{alignWithLabel:!0},axisLine:{lineStyle:{type:"solid",color:"#fff",width:"2"}}}],yAxis:[{type:"value",axisLine:{lineStyle:{type:"solid",color:"#fff",width:"2"}},axisLabel:{textStyle:{color:"#fff"}}}],series:[{name:"直接访问",type:"bar",barWidth:"30%",itemStyle:{normal:{barBorderRadius:40}},data:[]}]},timesCountEcharts:{color:["#5bdada"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"1%",right:"3%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:[],axisTick:{alignWithLabel:!0},axisLine:{lineStyle:{type:"solid",color:"#fff",width:"2"}}}],yAxis:[{type:"value",axisLine:{lineStyle:{type:"solid",color:"#fff",width:"2"}},axisLabel:{textStyle:{color:"#fff"}}}],series:[{name:"直接访问",type:"bar",barWidth:"30%",itemStyle:{normal:{barBorderRadius:40}},data:[]}]}}},beforeMount:function(){console.log("挂载前执行")},mounted:function(){var t=this;t.userinfo=JSON.parse(sessionStorage.getItem("userinfo"));for(var a=JSON.parse(sessionStorage.getItem("storeInfo_list")),e={value:"",label:""},o=0;o<a.length;o++){e={value:a[o].storeCode,label:a[o].storeName},t.storeOptions.push(e)}t.blackanalyse()},watch:{"top.valueTime":{handler:function(t,a){var e=this;if(null===t&&(t=[]),null!=t&&0!=t.length){e.top.valueTimeS="custom";var o=e.getDateTime((new Date).getTime());console.log(e.top.valueTime[1].substring(0,10),o,e.top.valueTime[1].substring(0,10)==o.substring(0,10)),e.top.valueTime[1].substring(0,10)==o.substring(0,10)?e.top.valueTime[1]=o:e.top.valueTime[1]=e.top.valueTime[1].substring(0,10)+" 23:59:59"}else"custom"==e.top.valueTimeS&&e.$message.success("请选择时间!")},deep:!0}},methods:{changeTimes:function(){var t=this;"custom"!=t.top.valueTimeS&&(t.top.valueTime=[])},getMyDate:function(t){var a=this,e=new Date(t),o=e.getFullYear(),i=e.getMonth()+1,s=e.getDate();e.getHours(),e.getMinutes(),e.getSeconds();return o+"-"+a.getzf(i)+"-"+a.getzf(s)},getDateTime:function(t){var a=this,e=new Date(t),o=e.getFullYear(),i=e.getMonth()+1,s=e.getDate(),r=e.getHours(),n=e.getMinutes(),l=e.getSeconds();return o+"-"+a.getzf(i)+"-"+a.getzf(s)+" "+a.getzf(r)+":"+a.getzf(n)+":"+a.getzf(l)},getzf:function(t){return parseInt(t)<10&&(t="0"+t),t},drawEcharts:function(){var t=this;t.myChart=i.a.init(document.getElementById("ageEcharts")),t.myChart.setOption(t.ageEcharts),t.myChart1=i.a.init(document.getElementById("sexEcharts")),t.myChart1.setOption(t.sexEcharts),t.myChart2=i.a.init(document.getElementById("hourCountEcharts")),t.myChart2.setOption(t.hourCountEcharts),t.myChart3=i.a.init(document.getElementById("weekCountEcharts")),t.myChart3.setOption(t.weekCountEcharts),t.myChart4=i.a.init(document.getElementById("mouthCountEcharts")),t.myChart4.setOption(t.mouthCountEcharts),t.myChart5=i.a.init(document.getElementById("timesCountEcharts")),t.myChart5.setOption(t.timesCountEcharts),window.addEventListener("resize",function(){t.myChart.resize(),t.myChart1.resize(),t.myChart2.resize(),t.myChart3.resize(),t.myChart4.resize(),t.myChart5.resize()})},blackanalyse:function(){var t=this;"custom"==t.top.valueTimeS&&0==t.top.valueTime.length&&t.$message.warning("请选择时间!");var a=(new Date).getTime(),e="",o="";"threeMouth"==t.top.valueTimeS?(e=t.getMyDate(1e3*(a/1e3-7776e3)),o=t.getMyDate(a)):"sixMouth"==t.top.valueTimeS?(e=t.getMyDate(1e3*(a/1e3-15552e3)),o=t.getMyDate(a)):(e=t.top.valueTime[0].substr(0,10),o=t.top.valueTime[1].substr(0,10)),console.log(t.top.valueSex,t.top.valueCount);var i="";"ALL"!=t.top.valueSex&&(i=t.top.valueSex);var s="";"ALL"!=t.top.valueCount&&(s=t.top.valueCount),console.log(t.searChstore,i,s);var r={storeid:t.searChstore,sex:i,comeCnt:s,start_time:e,end_time:o},n=t.$config.formData(r);t.$axios.post(t.$url.black_analyze,n).then(function(a){if(console.log("列表重新渲染了"),200==a.status){var e=a.data,o=[];o=e.data,console.log(a.data),t.black_person=o.black_person;var i=o.black_age;t.ageEcharts.xAxis[0].data=[],t.ageEcharts.series[0].data=[];for(var s=0;s<i.length;s++)t.ageEcharts.xAxis[0].data.push(i[s].age_groups),t.ageEcharts.series[0].data.push(i[s].age_cnt);var r=o.black_sex;t.sexEcharts.legend.data=[],t.sexEcharts.series[0].data=[],t.sexEcharts.series[1].data=[];for(var n=0;n<r.length;n++){var l=r[n].sex+"性",d={value:r[n].sex_cnt,name:r[n].sex+"性"};t.sexEcharts.legend.data.push(l),t.sexEcharts.series[0].data.push(d),t.sexEcharts.series[1].data.push(d)}var c=o.black_hour;t.hourCountEcharts.xAxis.data=[],t.hourCountEcharts.series.data=[];for(var p=0;p<c.length;p++)t.hourCountEcharts.xAxis.data.push(c[p].hour+"时"),t.hourCountEcharts.series.data.push(c[p].hour_cnt);var h=o.black_week;t.weekCountEcharts.xAxis[0].data=[],t.weekCountEcharts.series[0].data=[];for(var u=0;u<h.length;u++)t.weekCountEcharts.xAxis[0].data.push(h[u].day_of_week_name),t.weekCountEcharts.series[0].data.push(h[u].dayofweek_cnt);var v=o.black_month;t.mouthCountEcharts.xAxis[0].data=[],t.mouthCountEcharts.series[0].data=[];for(var x=0;x<v.length;x++)t.mouthCountEcharts.xAxis[0].data.push(v[x].month+"月"),t.mouthCountEcharts.series[0].data.push(v[x].month_cnt);var m=o.black_times;t.timesCountEcharts.xAxis[0].data=[],t.timesCountEcharts.series[0].data=[];for(var g=0;g<m.length;g++)t.timesCountEcharts.xAxis[0].data.push(m[g].come_tag),t.timesCountEcharts.series[0].data.push(m[g].count);t.$nextTick(function(){t.drawEcharts()})}}).catch(function(t){})}}}},BT0Z:function(t,a,e){"use strict";var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"blackadd"}},[e("div",{staticClass:"b_top"},[e("h4",{staticClass:"page_title"},[t._v("黑名单分析")]),t._v(" "),e("div",{staticClass:"top_content inline_block searChstore"},[e("span",[t._v("门店：")]),t._v(" "),e("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"medium"},model:{value:t.searChstore,callback:function(a){t.searChstore=a},expression:"searChstore"}},t._l(t.storeOptions,function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),e("div",{staticClass:"top_content inline_block time"},[e("span",[t._v("时间：")]),t._v(" "),e("el-radio-group",{on:{change:function(a){t.changeTimes()}},model:{value:t.top.valueTimeS,callback:function(a){t.$set(t.top,"valueTimeS",a)},expression:"top.valueTimeS"}},[e("el-radio",{attrs:{label:"threeMouth"}},[t._v("最近3个月")]),t._v(" "),e("el-radio",{attrs:{label:"sixMouth"}},[t._v("最近6个月")]),t._v(" "),e("el-radio",{staticClass:"custom",attrs:{label:"custom"}},[t._v("自定义\n                    "),e("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.top.pickerOptions0},model:{value:t.top.valueTime,callback:function(a){t.$set(t.top,"valueTime",a)},expression:"top.valueTime"}})],1)],1)],1),t._v(" "),e("div",{staticClass:"top_content inline_block sex"},[e("span",[t._v("性别：")]),t._v(" "),e("el-radio-group",{model:{value:t.top.valueSex,callback:function(a){t.$set(t.top,"valueSex",a)},expression:"top.valueSex"}},[e("el-radio",{attrs:{label:"ALL"}},[t._v("全部")]),t._v(" "),e("el-radio",{attrs:{label:"男"}},[t._v("男性")]),t._v(" "),e("el-radio",{attrs:{label:"女"}},[t._v("女性")])],1)],1),t._v(" "),e("div",{staticClass:"top_content inline_block timesCount"},[e("span",[t._v("次数：")]),t._v(" "),e("div",[e("el-radio-group",{model:{value:t.top.valueCount,callback:function(a){t.$set(t.top,"valueCount",a)},expression:"top.valueCount"}},[e("el-radio",{attrs:{label:"ALL"}},[t._v("全部")]),t._v(" "),e("el-radio",{attrs:{label:"1"}},[t._v("1次")]),t._v(" "),e("el-radio",{attrs:{label:"2"}},[t._v("2次")]),t._v(" "),e("el-radio",{attrs:{label:"3"}},[t._v("3次及以上")])],1)],1)]),t._v(" "),e("div",{staticClass:"top_content inline_block operaty"},[e("span",[t._v("操作：")]),t._v(" "),e("div",{staticClass:"todo_search",on:{click:function(a){a.stopPropagation(),t.blackanalyse()}}},[e("span",{staticClass:"search_icon"}),t._v(" 查询 ")])])]),t._v(" "),e("div",{staticClass:"b_btm"},[e("div",{staticClass:"analyse_top"},[e("div",{staticClass:"analyse_top_left analyse_top_all inline_block",attrs:{data:t.black_person}},[e("div",{staticClass:"analyse_top_name"},[t._v("Key Point")]),t._v(" "),e("div",{staticClass:"analyse_top_content"},[e("img",{attrs:{src:t.black_person.url,alt:"最黑户照片"}}),t._v(" "),e("div",{staticClass:"analyse_top_content_period"},[e("div",[t._v("周期: "+t._s(t.black_person.comeWeek))]),t._v(" "),e("div",[t._v("时间: "+t._s(t.black_person.comehour))])])])]),t._v(" "),e("div",{staticClass:"analyse_top_center analyse_top_all inline_block"},[e("div",{staticClass:"analyse_top_name"},[t._v("年龄")]),t._v(" "),e("div",{staticClass:"analyse_top_content"},[e("div",{ref:"ageEcharts",attrs:{id:"ageEcharts"}})])]),t._v(" "),e("div",{staticClass:"analyse_top_right analyse_top_all inline_block"},[e("div",{staticClass:"analyse_top_name"},[t._v("性别")]),t._v(" "),e("div",{staticClass:"analyse_top_content"},[e("div",{ref:"sexEcharts",attrs:{id:"sexEcharts"}})])])]),t._v(" "),e("div",{staticClass:"analyse_center"},[e("div",{staticClass:"analyse_top_name"},[t._v("时间")]),t._v(" "),e("div",{staticClass:"analyse_center_content"},[e("div",{ref:"hourCountEcharts",attrs:{id:"hourCountEcharts"}})])]),t._v(" "),e("div",{staticClass:"analyse_bottom"},[e("div",{staticClass:"analyse_top_left analyse_top_all inline_block"},[e("div",{staticClass:"analyse_top_name"},[t._v("天")]),t._v(" "),e("div",{staticClass:"analyse_top_content"},[e("div",{ref:"weekCountEcharts",attrs:{id:"weekCountEcharts"}})])]),t._v(" "),e("div",{staticClass:"analyse_top_center analyse_top_all inline_block"},[e("div",{staticClass:"analyse_top_name"},[t._v("月")]),t._v(" "),e("div",{staticClass:"analyse_top_content"},[e("div",{ref:"mouthCountEcharts",attrs:{id:"mouthCountEcharts"}})])]),t._v(" "),e("div",{staticClass:"analyse_top_right analyse_top_all inline_block"},[e("div",{staticClass:"analyse_top_name"},[t._v("次数")]),t._v(" "),e("div",{staticClass:"analyse_top_content"},[e("div",{ref:"timesCountEcharts",attrs:{id:"timesCountEcharts"}})])])])])])},i=[],s={render:o,staticRenderFns:i};a.a=s},Hpq0:function(t,a,e){var o=e("NyN4");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);e("rjj0")("1d55f138",o,!0)},NyN4:function(t,a,e){a=t.exports=e("FZ+f")(!1),a.push([t.i,"#analyse[data-v-5dd456a1]{width:100%;color:#fff;border-radius:10px;margin:auto;overflow:hidden;position:relative;margin-bottom:20px;min-width:1021px;overflow-x:auto}#analyse>div[data-v-5dd456a1]{padding:20px}.b_top[data-v-5dd456a1]{background:hsla(0,0%,100%,.1);padding:20px}.b_btm[data-v-5dd456a1]{background:hsla(0,0%,100%,.1);margin-top:20px;padding:20px 20px 168px}.page_title[data-v-5dd456a1]{font-size:20px;font-weight:400}.top_content[data-v-5dd456a1]{margin-top:15px;margin-right:120px}.inline_block[data-v-5dd456a1]{display:inline-block}.el-select[data-v-5dd456a1]{width:138px;height:38px;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.searChstore span[data-v-5dd456a1]{margin-right:10px}.timesCount>div[data-v-5dd456a1]{display:inline-block;vertical-align:middle;margin:0 10px}.operaty>div[data-v-5dd456a1]{display:inline-block;color:#c5c5c5;font-size:14px;margin:0 10px;width:110px;height:40px;line-height:40px;border:none;border-radius:20px;text-align:center}.search_icon[data-v-5dd456a1]{display:inline-block;vertical-align:middle;width:20px;height:20px;background:url("+e("JbUR")+") no-repeat;background-size:100% 100%}.todo_search:hover .search_icon[data-v-5dd456a1]{background:url("+e("1vEd")+") no-repeat;background-size:100% 100%}.operaty>div[data-v-5dd456a1]:hover{background:#363f68;color:#fff;cursor:pointer}.analyse_top[data-v-5dd456a1]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:distribute;justify-content:space-around;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:30px}.analyse_top_content[data-v-5dd456a1]{overflow:hidden;width:458px;height:360px;background-color:#313856;-webkit-box-shadow:1px 1px 18px 0 rgba(64,128,255,.2);box-shadow:1px 1px 18px 0 rgba(64,128,255,.2);border-radius:16px}.analyse_top_content img[data-v-5dd456a1]{width:162px;height:187px;margin:84px 0 0 47px;-webkit-box-shadow:8px 8px 8px rgba(0,0,0,.5);box-shadow:8px 8px 8px rgba(0,0,0,.5)}.analyse_top_content_period[data-v-5dd456a1]{float:right;display:inline-block;margin:160px 90px 0 0;font-size:14px;font-family:\\\\5FAE\\8F6F\\96C5\\9ED1;font-weight:700}.analyse_top_content_period div[data-v-5dd456a1]{margin:10px 0}.analyse_top_name[data-v-5dd456a1]{margin:0 0 22px 14px}.analyse_center[data-v-5dd456a1]{width:100%;margin:40px 0 0 24px}.analyse_center_content[data-v-5dd456a1]{width:98%;height:360px;background-color:#313856;-webkit-box-shadow:1px 1px 18px 0 rgba(64,128,255,.2);box-shadow:1px 1px 18px 0 rgba(64,128,255,.2);border-radius:20px}.analyse_bottom[data-v-5dd456a1]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:distribute;justify-content:space-around;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:40px}#ageEcharts[data-v-5dd456a1]{width:95%;height:340px;margin:0 auto;color:#fff;overflow:hidden}#sexEcharts[data-v-5dd456a1]{width:97%;height:350px;margin:10px auto;overflow:hidden}#hourCountEcharts[data-v-5dd456a1]{width:100%;height:100%;margin:0 auto}#mouthCountEcharts[data-v-5dd456a1],#timesCountEcharts[data-v-5dd456a1],#weekCountEcharts[data-v-5dd456a1]{width:95%;height:340px;margin:0 auto;color:#fff;overflow:hidden}",""])},vJXS:function(t,a,e){"use strict";function o(t){e("Hpq0")}Object.defineProperty(a,"__esModule",{value:!0});var i=e("AMlr"),s=e("BT0Z"),r=e("VU/8"),n=o,l=r(i.a,s.a,!1,n,"data-v-5dd456a1",null);a.default=l.exports}});