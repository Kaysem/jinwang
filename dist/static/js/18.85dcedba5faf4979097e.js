webpackJsonp([18],{BQoQ:function(n,t,a){var e=a("RCzs");"string"==typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);a("rjj0")("8e50cb80",e,!0)},I1XW:function(n,t,a){"use strict";var e=function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("div",{attrs:{id:"changepw"}},[a("div",{staticClass:"bg"},[a("div",{staticClass:"step"},[a("el-steps",{attrs:{space:300,active:n.step.num,"align-center":""}},[a("el-step",{attrs:{title:"身份验证"}}),n._v(" "),a("el-step",{attrs:{title:"修改登录密码"}}),n._v(" "),a("el-step",{attrs:{title:"完成"}})],1)],1),n._v(" "),a("div",{staticClass:"content"},[a("div",{directives:[{name:"show",rawName:"v-show",value:n.kind.isShow,expression:"kind.isShow"}],staticClass:"readly_kind"},[a("el-row",[a("el-col",{staticClass:"right",attrs:{span:8}},[n._v("\n                        已验证"),a("span",{domProps:{textContent:n._s(n.kind.name)}}),n._v("：\n                    ")]),n._v(" "),a("el-col",{attrs:{span:8}},[a("span",{domProps:{textContent:n._s(n.kind.number)}})]),n._v(" "),a("el-col",{staticClass:"right",attrs:{span:8}},[a("span",{staticClass:"c_kind",on:{click:function(t){n.changeKind()}}},[n._v("使用"),a("span",{domProps:{textContent:n._s(n.kind.changename)}}),n._v("验证")])])],1),n._v(" "),a("el-row",[a("el-col",{staticClass:"right",attrs:{span:8}},[a("span",{domProps:{textContent:n._s(n.kind.name)}}),n._v("验证码：\n                    ")]),n._v(" "),a("el-col",{staticClass:"positions",attrs:{span:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:n.kind.phoneyzm,expression:"kind.phoneyzm"}],staticClass:"write_input",attrs:{type:"text"},domProps:{value:n.kind.phoneyzm},on:{input:function(t){t.target.composing||n.$set(n.kind,"phoneyzm",t.target.value)}}}),n._v(" "),a("input",{staticClass:"send",attrs:{type:"button",value:n.kind.send,disabled:n.kind.isdisabled},on:{click:function(t){n.toYzm()}}})])],1),n._v(" "),a("el-row",[a("el-col",{staticClass:"right",attrs:{span:8}},[n._v("\n                        验证码：\n                    ")]),n._v(" "),a("el-col",{staticClass:"positions",attrs:{span:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:n.kind.yzm,expression:"kind.yzm"}],staticClass:"write_input",attrs:{type:"text"},domProps:{value:n.kind.yzm},on:{input:function(t){t.target.composing||n.$set(n.kind,"yzm",t.target.value)}}}),n._v(" "),a("img",{staticClass:"send",attrs:{id:"codeimg",src:"",alt:"验证码"},on:{click:function(t){n.reset_codeimg()}}})])],1),n._v(" "),a("input",{staticClass:"change",attrs:{type:"button",value:"提交"},on:{click:function(t){n.tochange()}}})],1),n._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:n.change.isShow,expression:"change.isShow"}]},[a("el-row",[a("el-col",{staticClass:"right",attrs:{span:8}},[n._v("\n                        新密码：\n                    ")]),n._v(" "),a("el-col",{staticClass:"positions",attrs:{span:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:n.change.password,expression:"change.password"}],staticClass:"write_input",attrs:{type:"text"},domProps:{value:n.change.password},on:{input:function(t){t.target.composing||n.$set(n.change,"password",t.target.value)}}})])],1),n._v(" "),a("el-row",[a("el-col",{staticClass:"right",attrs:{span:8}},[n._v("\n                        确认新密码：\n                    ")]),n._v(" "),a("el-col",{staticClass:"positions",attrs:{span:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:n.change.againpassword,expression:"change.againpassword"}],staticClass:"write_input",attrs:{type:"text"},domProps:{value:n.change.againpassword},on:{input:function(t){t.target.composing||n.$set(n.change,"againpassword",t.target.value)}}})])],1),n._v(" "),a("input",{staticClass:"change",attrs:{type:"button",value:"提交"},on:{click:function(t){n.tofinish()}}})],1),n._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:n.finish.isShow,expression:"finish.isShow"}],staticClass:"finish_content"},[n._m(0),n._v(" "),a("p",[n._v("系统将在"),a("i",{domProps:{textContent:n._s(n.finish.num)}}),n._v("秒后自动跳转至登录页面，您可以选择直接"),a("span",{staticClass:"tologin",on:{click:function(t){n.toLogin()}}},[n._v("返回登录")])])])])])])},i=[function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("p",[a("i",{staticClass:"ready_sure"}),n._v("密码修改成功，系统将为您登录，请牢记您的新密码")])}],s={render:e,staticRenderFns:i};t.a=s},RCzs:function(n,t,a){t=n.exports=a("FZ+f")(!0),t.push([n.i,"#changepw[data-v-cda07518]{height:100%;text-align:left;overflow:hidden;background:hsla(0,0%,100%,.1);border-radius:10px;position:relative}.step[data-v-cda07518]{position:absolute;left:50%;top:100px;-webkit-transform:translateX(-50%);transform:translateX(-50%)}#changepw .el-steps[data-v-cda07518]{margin:auto}#changepw .el-step.is-horizontal[data-v-cda07518]{width:300px!important}#changepw .step .el-step[data-v-cda07518]:last-child{width:50px!important}.content>div[data-v-cda07518]{width:400px;margin:auto;position:absolute;top:30%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);color:#9598ae}.right[data-v-cda07518]{text-align:right}input[data-v-cda07518]{height:40px;border:0;outline:none;background:transparent;border-bottom:1px solid #4b5377;color:#98a1c9;font-size:14px;display:block;font-size:16px;padding-left:10px}input[type=button][data-v-cda07518]{border:0;color:#fff;background-color:#353d65;border-radius:6px;padding-left:0}#changepw .el-col-8[data-v-cda07518]{line-height:40px}.positions[data-v-cda07518]{position:relative}.positions .write_input[data-v-cda07518]{width:100%}.send[data-v-cda07518]{position:absolute;right:0;bottom:5px;width:100px}.content>div>div[data-v-cda07518]{margin-bottom:40px}.content>div .change[data-v-cda07518]{width:200px;background-color:#6477c8;border-radius:6px;margin:20px auto 0}input[disabled=disabled][data-v-cda07518]{background-color:#202641;color:#9fa5bc}.c_kind[data-v-cda07518]{color:#4c9ff8}input[data-v-cda07518]:active{opacity:.8}.finish_content[data-v-cda07518]>:first-child{font-size:20px;margin:20px 0}.finish_content[data-v-cda07518]>:last-child{font-size:16px}.ready_sure[data-v-cda07518]{width:30px;height:30px;background:pink;position:absolute;left:-36px;background:url("+a("9SDd")+") no-repeat;background-size:100% 100%}.tologin[data-v-cda07518]{color:#4c9ff8;font-size:14px;cursor:pointer}","",{version:3,sources:["F:/work-xunqi/hiveface/HIVEFACE-2018-08/HIVEFACE-2018-08/src/components/Changepw.vue"],names:[],mappings:"AACA,2BACQ,YAAc,AACd,gBAAiB,AACjB,gBAAiB,AACjB,8BAAkC,AAClC,mBAAmB,AACnB,iBAAmB,CAC1B,AACD,uBAGQ,kBAAmB,AACnB,SAAU,AACV,UAAW,AACX,mCAAoC,AAC5B,0BAA4B,CAC3C,AACD,qCACQ,WAAa,CACpB,AACD,kDACQ,qBAAwB,CAC/B,AACD,qDACQ,oBAAuB,CAC9B,AACD,8BACQ,YAAa,AACb,YAAa,AACb,kBAAmB,AACnB,QAAS,AACT,SAAW,AACX,mCAAoC,AAC5B,2BAA4B,AACpC,aAAe,CACtB,AACD,wBACQ,gBAAkB,CACzB,AACD,uBACQ,YAAa,AACb,SAAU,AACV,aAAc,AACd,uBAA0B,AAC1B,gCAAiC,AACjC,cAAe,AACf,eAAgB,AAChB,cAAe,AACf,eAAgB,AAChB,iBAAmB,CAC1B,AACD,oCACQ,SAAU,AACV,WAAY,AACZ,yBAA0B,AAC7B,kBAAmB,AAChB,cAAgB,CACvB,AACD,qCACQ,gBAAkB,CACzB,AACD,4BACQ,iBAAmB,CAC1B,AACD,yCACQ,UAAY,CACnB,AACD,uBACQ,kBAAmB,AACnB,QAAS,AACT,WAAY,AACZ,WAAa,CACpB,AACD,kCACQ,kBAAoB,CAC3B,AACD,sCACQ,YAAa,AACb,yBAA0B,AAC7B,kBAAmB,AAChB,kBAAsB,CAC7B,AACD,0CACK,yBAA0B,AAC1B,aAAe,CACnB,AACD,yBACQ,aAAe,CACtB,AACD,8BACQ,UAAa,CACpB,AAMD,8CACQ,eAAgB,AAChB,aAAe,CACtB,AACD,6CACQ,cAAgB,CACvB,AACD,6BACQ,WAAY,AACZ,YAAa,AACb,gBAAiB,AACjB,kBAAmB,AACnB,WAAY,AACZ,mDAA0D,AAC1D,yBAA2B,CAClC,AACD,0BACQ,cAAe,AACf,eAAgB,AAChB,cAAgB,CACvB",file:"Changepw.vue",sourcesContent:['\n#changepw[data-v-cda07518] {\n        height: 100% ;\n        text-align: left;\n        overflow: hidden;\n        background: rgba(255,255,255,0.1);\n        border-radius:10px;\n        position: relative;\n}\n.step[data-v-cda07518] {\n        /* margin-top: 100px;\n        margin-left: 100px; */\n        position: absolute;\n        left: 50%;\n        top: 100px;\n        -webkit-transform: translateX(-50%);\n                transform: translateX(-50%);\n}\n#changepw .el-steps[data-v-cda07518] {\n        margin: auto;\n}\n#changepw .el-step.is-horizontal[data-v-cda07518] {\n        width: 300px !important;\n}\n#changepw .step  .el-step[data-v-cda07518]:last-child{\n        width: 50px !important;\n}\n.content>div[data-v-cda07518] {\n        width: 400px;\n        margin: auto;\n        position: absolute;\n        top: 30%;\n        left : 50%;\n        -webkit-transform: translateX(-50%);\n                transform: translateX(-50%);\n        color: #9598ae;\n}\n.right[data-v-cda07518] {\n        text-align: right;\n}\ninput[data-v-cda07518] {\n        height: 40px;\n        border: 0;\n        outline: none;\n        background: rgba(0,0,0,0);\n        border-bottom: 1px solid #4b5377;\n        color: #98a1c9;\n        font-size: 14px;\n        display: block;\n        font-size: 16px;\n        padding-left: 10px;\n}\ninput[type=\'button\'][data-v-cda07518] {\n        border: 0;\n        color: #fff;\n        background-color: #353d65;\n\t    border-radius: 6px;\n        padding-left: 0;\n}\n#changepw .el-col-8[data-v-cda07518] {\n        line-height: 40px;\n}\n.positions[data-v-cda07518] {\n        position: relative;\n}\n.positions .write_input[data-v-cda07518] {\n        width: 100%;\n}\n.send[data-v-cda07518] {\n        position: absolute;\n        right: 0; \n        bottom: 5px;\n        width: 100px;\n}\n.content>div>div[data-v-cda07518] {\n        margin-bottom: 40px;\n}\n.content>div .change[data-v-cda07518] {\n        width: 200px;\n        background-color: #6477c8;\n\t    border-radius: 6px;\n        margin: 20px auto 0px;\n}\ninput[disabled="disabled"][data-v-cda07518] {\n\t    background-color: #202641;\n\t    color: #9fa5bc;\n}\n.c_kind[data-v-cda07518] {\n        color: #4c9ff8;\n}\ninput[data-v-cda07518]:active {\n        opacity: 0.8;\n}\n.content .finish_content[data-v-cda07518] {\n        /* width: 460px;\n        position: relative;\n        margin:80px 0px 0px 0px; */\n}\n.finish_content[data-v-cda07518]>:first-child {\n        font-size: 20px;\n        margin: 20px 0;\n}\n.finish_content[data-v-cda07518]>:last-child {\n        font-size: 16px;\n}\n.ready_sure[data-v-cda07518] {\n        width: 30px;\n        height: 30px;\n        background: pink;\n        position: absolute;\n        left: -36px;\n        background: url("../assets/images/finish.png") no-repeat ;\n        background-size: 100% 100%;\n}\n.tologin[data-v-cda07518] {\n        color: #4c9ff8;\n        font-size: 14px;\n        cursor: pointer;\n}\n    \n'],sourceRoot:""}])},tELo:function(n,t,a){"use strict";function e(n){a("BQoQ")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("yTLa"),s=a("I1XW"),o=a("VU/8"),r=e,d=o(i.a,s.a,!1,r,"data-v-cda07518",null);t.default=d.exports},yTLa:function(n,t,a){"use strict";(function(n){var e=a("mvHQ"),i=a.n(e);t.a={name:"changepw",data:function(){return{userinfo:{},step:{num:1},kind:{isShow:!0,name:"手机号",changename:"邮箱",number:"",send:"获取验证码",phoneyzm:"",isdisabled:!1,interval:{},codeimg_key:""},change:{isShow:!1,password:"",againpassword:""},finish:{isShow:!1,num:3,interval:{}}}},mounted:function(){var n=this;n.userinfo=JSON.parse(sessionStorage.getItem("userinfo")),n.step.num=1,n.reset_codeimg(),n.kind.number=n.userinfo.phone_num},methods:{reset_codeimg:function(){var t=this,a=t.$url.getVerify+"?key="+Math.random();n("#codeimg").attr("src",a),t.kind.codeimg_key=a.substring(a.indexOf("=")+1,a.length)},email_YZ:function(){var n=this,t={data:i()({email_code:n.kind.phoneyzm})},a=n.$config.formData(t);n.$axios.post(n.$url.emailcode,a).then(function(t){1==t.data.infocode?(n.step.num=2,n.kind.isShow=!1,n.change.isShow=!0,clearInterval(n.kind.interval),n.kind.send="获取验证码"):n.$message.error(t.data.message)})},phone_YZ:function(){var n=this,t={data:i()({message_code:n.kind.phoneyzm})},a=n.$config.formData(t);n.$axios.post(n.$url.phonecode,a).then(function(t){1==t.data.infocode?(n.step.num=2,n.kind.isShow=!1,n.change.isShow=!0,clearInterval(n.kind.interval),n.kind.send="获取验证码"):n.$message.error(t.data.message)})},tochange:function(){var n=this;if(""!=n.kind.number&&""!=n.kind.phoneyzm&&n.kind.yzm){var t={checkCode:n.kind.yzm,key:n.kind.codeimg_key},a=n.$config.formData(t);n.$axios.post(n.$url.checkVerify,a).then(function(t){1==t.data?"手机号"==n.kind.name||n.email_YZ():n.$message.error("请输入正确验证码")})}else n.$message.error("请输入完整信息！")},toYzm:function(){var n=this;n.kind.send="重新发送(60s)",n.kind.isdisabled=!0;var t=60;n.kind.interval=setInterval(function(){n.kind.send="重新发送("+--t+"s)",t<=0&&(clearInterval(n.kind.interval),n.kind.isdisabled=!1,n.kind.send="获取验证码")},1e3);var a=void 0,e=void 0;"手机号"==n.kind.name?(a=n.$url.getsendmoblie,e={id:n.userinfo.id,tel:n.kind.number}):(a=n.$url.getsendemail,e={id:n.userinfo.id,sendto:n.kind.number});var i=n.$config.formData(e);n.$axios.post(a,i).then(function(t){1==t.data.infocode||n.$message.error(t.data.data)})},changeKind:function(){var n=this,t=n.kind.name;n.kind.name=n.kind.changename,n.kind.changename=t,n.kind.send="获取验证码",n.kind.isdisabled=!1,clearInterval(n.kind.interval),"手机号"==n.kind.name?n.kind.number=n.userinfo.phone_num:n.kind.number=n.userinfo.mailbox},tofinish:function(){var n=this;if(""!=n.change.password&&""!=n.change.againpassword)if(n.change.password===n.change.againpassword){n.userinfo.pass_word=n.change.password;var t=n.userinfo,a=n.$config.formData(t);n.$axios.post(n.$url.User_upt,a).then(function(t){1==t.data.infocode?(n.$message.success(t.data.message),n.change.isShow=!1,n.finish.isShow=!0):n.$message.error(t.data.message)})}else n.$message.error("请确认两次密码是否一致！");else n.$message.error("请输入密码！")},toLogin:function(){var n=this;clearInterval(n.finish.interval),sessionStorage.clear(),n.$router.push({name:"Login"})}},watch:{"finish.isShow":{handler:function(n,t){var a=this;if(1==n){a.step.num=3;var e=3;a.finish.interval=setInterval(function(){a.finish.num=--e,a.finish.num<=0&&(clearInterval(a.finish.interval),sessionStorage.clear(),a.$router.push({name:"Login"}),a.finish.isShow=!1,a.step.num=1,a.finish.num=3)},1e3)}else a.step.num=1,a.finish.num=3,clearInterval(a.finish.interval),a.finish.isShow=!1,a.kind.isShow=!0},deep:!0}}}}).call(t,a("7t+N"))}});
//# sourceMappingURL=18.85dcedba5faf4979097e.js.map